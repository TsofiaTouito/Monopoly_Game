// tsofiatouito2@gmail.com

#include "Player.hpp"




//------------------------------------Create player object------------------------------------------

//Initilze a player object for the start of the game 
void Player::init_player(std::string name, std::string path_to_img){

    //create a player object amount of money: 1,500
    Player(name, 1500);


    //Open the player image
    if(!this->playerTexture.loadFromFile(path_to_img)){
        throw std::string("Player image failed to open .");
    }

    //enable to draw the player
    this->playerSprite.setTexture(this->playerTexture);
    
}



//-------------------------------------Bank handeling of the player--------------------------------------


void Player::pay_rent(){}


void Player::buy_asset(){}



double Player::get_amount_of_money() const{
    return this->amount_of_money;
}



void Player::sub_money(double amount){

    double res = this->amount_of_money - amount;
    
    if(amount_of_money < 1 && res == 0){  //At least 1 
        this->is_bankrupt = true;
        //call to gameManager observer for continiue handeling
        //delet the player
    }

    this->amount_of_money -= amount;

}


void Player::add_money(double amount){
    
    if(amount < 0){
        std::cout << "Can't add a negative number" << std::endl;
        return;
    }

    this->amount_of_money += amount;
}



//------------------------------------Move player object-----------------------------------------------

const sf::Vector2f& Player::get_position() const{

    return this->playerSprite.getPosition();

}


void Player::set_position(const sf::Vector2f& new_position){

    this->playerSprite.setPosition(new_position);
}



//Move the player across the board by a number of steps
void Player::move_player(int steps){

    //check if we need to go upward


    //Check if we need to go downward

    
    //create the vector2f for the new position


    //move the player to the new position


}


//This function is been called after a check that the player need to enter jail
  /*  
        void Player::set_in_jail(){
        sf::Vector2f jail_position; //set the jail position after hte board writing
        this->set_position(jail_position);
        this->in_jail = true;
    }
*/